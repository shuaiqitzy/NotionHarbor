{
  "note_id": "692183a8000000001e038006",
  "title": "关于复现代码的一些心得体会",
  "desc": "[一R]框架版本要对应\n复现代码第一步就是搭环境,但这也是最容易出问题的地方。很多同学上来就装最新版PyTorch,结果跑起来各种接口报错。\n正确的做法是先看项目README或requirements.txt,里面一般会写明框架版本号,严格按照这个来装就行。如果作者没写版本号,可以看代码发布时间,比如2023年的项目,用PyTorch 1.12-1.13基本没问题。\n还有个很实用的技巧是用conda建独立环境,命令是conda create -n project_name python=3.8,这样不同项目互不干扰。\n\t\n[二R]先理解项目结构\n拿到代码别急着跑,建议先花10分钟看看项目结构。一般models文件夹放模型定义,utils放工具函数,dataset.py负责数据加载,train.py是训练脚本。把这几个文件的关系搞清楚,后面调试会清晰很多。\n我的习惯是先看train.py的main函数,从这里可以追溯到数据怎么加载、模型怎么初始化。遇到看不懂的地方,用PyCharm的Ctrl+B跳转到定义,非常方便。\n\t\n[三R]数据路径要改对\n数据路径问题是复现时最容易出bug的地方，很多代码里直接写死了作者本地路径,你直接跑肯定找不到文件。可以通过全局搜索数据路径相关变量,一般在config.py或train.py开头,把它改成你自己的路径就行。建议用相对路径而不是绝对路径,比如./data/train,这样换电脑也不用改代码。\n\t\n[四R]调试模式快速验证\n刚拿到代码千万别急着跑完整训练,先用调试模式验证流程。把epoch改成1,batch_size改小到2或4,数据集只用几百张图片。这样几分钟就能跑完,有bug也能快速发现。\n我一般还会在关键位置加print语句,看看数据shape对不对、损失值是否正常。\n最后强烈建议大家复现过程一定要做好记录,我一般会记下PyTorch版本、CUDA版本、学习率、batch_size这些关键配置。这样如果后面想复现某个结果,直接看记录就知道当时用的什么配置了。\n#python[话题]# #深度学习与神经网络[话题]# #复现[话题]##代码[话题]##代码复现[话题]##发文[话题]##深度学习[话题]##强化学习[话题]##期刊[话题]#",
  "type": "normal",
  "user": {
    "user_id": "",
    "nickname": "",
    "avatar": "https://sns-avatar-qc.xhscdn.com/avatar/cd255d0e201935e0d852bd371f18c198.jpg?imageView2/2/w/60/format/webp|imageMogr2/strip"
  },
  "interact_info": {
    "liked_count": 0,
    "collected_count": 0,
    "comment_count": 0,
    "share_count": 0
  },
  "tag_list": [
    {
      "id": "608b992400000000010089c5",
      "name": "python",
      "type": "topic"
    },
    {
      "name": "深度学习与神经网络",
      "type": "topic",
      "id": "5e9003ac0000000001008ccc"
    },
    {
      "id": "63c53cad000000000100447e",
      "name": "复现",
      "type": "topic"
    },
    {
      "id": "5c728783000000000f01bd23",
      "name": "代码",
      "type": "topic"
    },
    {
      "id": "6215ea34000000000100b69e",
      "name": "代码复现",
      "type": "topic"
    },
    {
      "id": "5dafed04000000000103f685",
      "name": "发文",
      "type": "topic"
    },
    {
      "name": "深度学习",
      "type": "topic",
      "id": "5e7fe6610000000001009356"
    },
    {
      "id": "610dfdd40000000001006323",
      "name": "强化学习",
      "type": "topic"
    },
    {
      "name": "期刊",
      "type": "topic",
      "id": "5c832615000000000e01a00c"
    }
  ],
  "image_list": [
    {
      "stream": {},
      "live_photo": false,
      "file_id": "",
      "height": 1600,
      "url": "",
      "trace_id": "",
      "info_list": [
        {
          "image_scene": "WB_PRV",
          "url": "http://sns-webpic-qc.xhscdn.com/202512041102/81401d7fdb84b34d551565870eee7cea/1040g2sg31p6dg14ciskg497ojge4068lj3hvfc8!nd_prv_wlteh_webp_3"
        },
        {
          "image_scene": "WB_DFT",
          "url": "http://sns-webpic-qc.xhscdn.com/202512041102/ba064a9f018132a099c334fd7b97cb0c/1040g2sg31p6dg14ciskg497ojge4068lj3hvfc8!nd_dft_wlteh_webp_3"
        }
      ],
      "url_default": "http://sns-webpic-qc.xhscdn.com/202512041102/ba064a9f018132a099c334fd7b97cb0c/1040g2sg31p6dg14ciskg497ojge4068lj3hvfc8!nd_dft_wlteh_webp_3",
      "width": 1200,
      "url_pre": "http://sns-webpic-qc.xhscdn.com/202512041102/81401d7fdb84b34d551565870eee7cea/1040g2sg31p6dg14ciskg497ojge4068lj3hvfc8!nd_prv_wlteh_webp_3"
    }
  ],
  "video_url": "",
  "time": 1763804072000,
  "last_update_time": 1763804072000,
  "album": "科研",
  "note_url": "https://www.xiaohongshu.com/explore/692183a8000000001e038006",
  "xsec_token": "ABSJDjeNFWZiU3sCV4x-gpTSdtgpBD-rSvNm8JBx4s8uU="
}